<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-bases_ROS2/structure_de_base" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Structure d&#x27;un package ROS2 | Wiki Drones</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://varanustimorensis.github.io/WikiDrones/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://varanustimorensis.github.io/WikiDrones/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://varanustimorensis.github.io/WikiDrones/docs/bases_ROS2/structure_de_base"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Structure d&#x27;un package ROS2 | Wiki Drones"><meta data-rh="true" name="description" content="Qu&#x27;est-ce qu&#x27;un workspace ?"><meta data-rh="true" property="og:description" content="Qu&#x27;est-ce qu&#x27;un workspace ?"><link data-rh="true" rel="canonical" href="https://varanustimorensis.github.io/WikiDrones/docs/bases_ROS2/structure_de_base"><link data-rh="true" rel="alternate" href="https://varanustimorensis.github.io/WikiDrones/docs/bases_ROS2/structure_de_base" hreflang="en"><link data-rh="true" rel="alternate" href="https://varanustimorensis.github.io/WikiDrones/docs/bases_ROS2/structure_de_base" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Bases de ROS2","item":"https://varanustimorensis.github.io/WikiDrones/docs/category/bases-de-ros2"},{"@type":"ListItem","position":2,"name":"Structure d'un package ROS2","item":"https://varanustimorensis.github.io/WikiDrones/docs/bases_ROS2/structure_de_base"}]}</script><link rel="alternate" type="application/rss+xml" href="/WikiDrones/blog/rss.xml" title="Wiki Drones RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/WikiDrones/blog/atom.xml" title="Wiki Drones Atom Feed"><link rel="stylesheet" href="/WikiDrones/assets/css/styles.947b465d.css">
<script src="/WikiDrones/assets/js/runtime~main.f7340ec8.js" defer="defer"></script>
<script src="/WikiDrones/assets/js/main.ca613e7e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/WikiDrones/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/WikiDrones/"><div class="navbar__logo"><img src="/WikiDrones/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/WikiDrones/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/WikiDrones/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/WikiDrones/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/VaranusTimorensis/WikiDrones" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/WikiDrones/docs/intro">Wikidrone Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/WikiDrones/docs/category/installations">Installations</a><button aria-label="Expand sidebar category &#x27;Installations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/WikiDrones/docs/category/bases-de-ros2">Bases de ROS2</a><button aria-label="Collapse sidebar category &#x27;Bases de ROS2&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/WikiDrones/docs/bases_ROS2/ros2">DÃ©couverte de ROS2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/WikiDrones/docs/bases_ROS2/structure_de_base">Structure d&#x27;un package ROS2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/WikiDrones/docs/bases_ROS2/nodes">Nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/WikiDrones/docs/bases_ROS2/topics">Topics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/WikiDrones/docs/bases_ROS2/services">Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/WikiDrones/docs/bases_ROS2/actions">Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/WikiDrones/docs/bases_ROS2/LifeCycle Nodes">LifeCycle Nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/WikiDrones/docs/bases_ROS2/Messages UORB">Messages UORB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/WikiDrones/docs/bases_ROS2/RosTest">RosTest</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/WikiDrones/docs/category/commandes-de-vol">Commandes de vol</a><button aria-label="Expand sidebar category &#x27;Commandes de vol&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/WikiDrones/docs/category/interagir-avec-des-capteurs">Interagir avec des capteurs</a><button aria-label="Expand sidebar category &#x27;Interagir avec des capteurs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/WikiDrones/docs/category/exemples">Exemples</a><button aria-label="Expand sidebar category &#x27;Exemples&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/WikiDrones/docs/category/prÃ©parer-un-drone">PrÃ©parer un drone</a><button aria-label="Expand sidebar category &#x27;PrÃ©parer un drone&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/WikiDrones/docs/category/sujets-avancÃ©s">Sujets avancÃ©s</a><button aria-label="Expand sidebar category &#x27;Sujets avancÃ©s&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/WikiDrones/docs/faq">Foire aux questions</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/WikiDrones/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/WikiDrones/docs/category/bases-de-ros2"><span>Bases de ROS2</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Structure d&#x27;un package ROS2</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Structure d&#x27;un package ROS2</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-quun-workspace-">Qu&#x27;est-ce qu&#x27;un workspace ?<a href="#quest-ce-quun-workspace-" class="hash-link" aria-label="Direct link to Qu&#x27;est-ce qu&#x27;un workspace ?" title="Direct link to Qu&#x27;est-ce qu&#x27;un workspace ?">â</a></h2>
<p><em>cf <a href="https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html" target="_blank" rel="noopener noreferrer">https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html</a></em></p>
<p>A workspace is a directory containing ROS 2 packages. Before using ROS 2, itâs necessary to source your ROS 2 installation workspace in the terminal you plan to work in. This makes ROS 2âs packages available for you to use in that terminal.</p>
<p>You also have the option of sourcing an âoverlayâ - a secondary workspace where you can add new packages without interfering with the existing ROS 2 workspace that youâre extending, or âunderlayâ. Your underlay must contain the dependencies of all the packages in your overlay. Packages in your overlay will override packages in the underlay. Itâs also possible to have several layers of underlays and overlays, with each successive overlay using the packages of its parent underlays.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quest-ce-quun-package-ros-2-">Qu&#x27;est-ce qu&#x27;un package ROS 2 ?<a href="#quest-ce-quun-package-ros-2-" class="hash-link" aria-label="Direct link to Qu&#x27;est-ce qu&#x27;un package ROS 2 ?" title="Direct link to Qu&#x27;est-ce qu&#x27;un package ROS 2 ?">â</a></h2>
<p><em>cf <a href="https://docs.ros.org/en/jazzy/Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html" target="_blank" rel="noopener noreferrer">https://docs.ros.org/en/jazzy/Tutorials/Beginner-Client-Libraries/Creating-Your-First-ROS2-Package.html</a></em>
A package is an organizational unit for your ROS 2 code. If you want to be able to install your code or share it with others, then youâll need it organized in a package. With packages, you can release your ROS 2 work and allow others to build and use it easily.</p>
<p>Package creation in ROS 2 uses ament as its build system and colcon as its build tool. You can create a package using either CMake or Python, which are officially supported, though other build types do exist.</p>
<p>The simplest possible package may have a file structure that looks like:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">my_package/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     CMakeLists.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     include/my_package/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     package.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     src/</span><br></span></code></pre></div></div>
<ul>
<li><code>CMakeLists.txt</code>: file that describes how to build the code within the package</li>
<li><code>include/&lt;package_name&gt;</code>: directory containing the public headers for the package</li>
<li><code>package.xml</code>: file containing meta information about the package</li>
<li><code>src directory</code>: containing the source code for the package</li>
</ul>
<p>A single workspace can contain as many packages as you want, each in their own folder. You can also have packages of different build types in one workspace (CMake, Python, etc.). You cannot have nested packages.</p>
<p>Best practice is to have a <code>src</code> folder within your workspace, and to create your packages in there. This keeps the top level of the workspace âcleanâ.</p>
<p>A trivial workspace might look like:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">workspace_folder/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    src/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      cpp_package_1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          CMakeLists.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          include/cpp_package_1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          package.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          src/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      py_package_1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          package.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          resource/py_package_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          setup.cfg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          setup.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          py_package_1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      cpp_package_n/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          CMakeLists.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          include/cpp_package_n/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          package.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          src/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exemple--crÃ©er-un-workspace-avec-un-package">Exemple : crÃ©er un workspace avec un package<a href="#exemple--crÃ©er-un-workspace-avec-un-package" class="hash-link" aria-label="Direct link to Exemple : crÃ©er un workspace avec un package" title="Direct link to Exemple : crÃ©er un workspace avec un package">â</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-sourcer-lenvironnement-ros-2">1. Sourcer l&#x27;environnement ROS 2<a href="#1-sourcer-lenvironnement-ros-2" class="hash-link" aria-label="Direct link to 1. Sourcer l&#x27;environnement ROS 2" title="Direct link to 1. Sourcer l&#x27;environnement ROS 2">â</a></h3>
<p><code>source /opt/ros/foxy/setup.bash</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-crÃ©er-un-nouveau-dossier">2. CrÃ©er un nouveau dossier<a href="#2-crÃ©er-un-nouveau-dossier" class="hash-link" aria-label="Direct link to 2. CrÃ©er un nouveau dossier" title="Direct link to 2. CrÃ©er un nouveau dossier">â</a></h3>
<p>Best practice is to create a new directory for every new workspace. The name doesnât matter, but it is helpful to have it indicate the purpose of the workspace. Letâs choose the directory name ros2_ws, for âdevelopment workspaceâ:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ~/ros2_ws/src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/ros2_ws/src</span><br></span></code></pre></div></div>
<p>Another best practice is to put any packages in your workspace into the src directory. The above code creates a src directory inside ros2_ws and then navigates into it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-create-a-package">3. Create a package<a href="#3-create-a-package" class="hash-link" aria-label="Direct link to 3. Create a package" title="Direct link to 3. Create a package">â</a></h3>
<p>The command syntax for creating a new package in ROS 2 is:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 pkg create --build-type ament_cmake --license Apache-2.0 --node-name my_node my_package</span><br></span></code></pre></div></div>
<p>You will now have a new folder within your workspaceâs src directory called my_package.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-build-a-package">4. Build a package<a href="#4-build-a-package" class="hash-link" aria-label="Direct link to 4. Build a package" title="Direct link to 4. Build a package">â</a></h3>
<p>Putting packages in a workspace is especially valuable because you can build many packages at once by running colcon build in the workspace root. Otherwise, you would have to build each package individually.</p>
<p>Return to the root of your workspace:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/ros2_ws</span><br></span></code></pre></div></div>
<p>Now you can build your packages:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">colcon build</span><br></span></code></pre></div></div>
<p>To build only the my_package package next time, you can run:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">colcon build --packages-select my_package</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-construire-le-workspace-avec-colcon">5. Construire le workspace avec colconï<a href="#5-construire-le-workspace-avec-colcon" class="hash-link" aria-label="Direct link to 5. Construire le workspace avec colconï" title="Direct link to 5. Construire le workspace avec colconï">â</a></h3>
<p>From the root of your workspace (ros2_ws), you can now build your packages using the command:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">colcon build</span><br></span></code></pre></div></div>
<p>Once the build is finished, enter ls in the workspace root (~/ros2_ws) and you will see that colcon has created new directories:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">build  install  log  src</span><br></span></code></pre></div></div>
<p>The <code>install</code> directory is where your workspaceâs setup files are, which you can use to source your overlay.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-source-the-overlay">6. Source the overlayï<a href="#6-source-the-overlay" class="hash-link" aria-label="Direct link to 6. Source the overlayï" title="Direct link to 6. Source the overlayï">â</a></h3>
<p>Before sourcing the overlay, it is very important that you open a new terminal, separate from the one where you built the workspace. Sourcing an overlay in the same terminal where you built, or likewise building where an overlay is sourced, may create complex issues.</p>
<p>In the new terminal, source your main ROS 2 environment as the âunderlayâ, so you can build the overlay âon top ofâ it:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source /opt/ros/foxy/setup.bash</span><br></span></code></pre></div></div>
<p>Go into the root of your workspace:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/ros2_ws</span><br></span></code></pre></div></div>
<p>In the root, source your overlay:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source install/local_setup.bash</span><br></span></code></pre></div></div>
<hr>
<p><strong>NOTE</strong></p>
<p>Sourcing the local_setup of the overlay will only add the packages available in the overlay to your environment. setup sources the overlay as well as the underlay it was created in, allowing you to utilize both workspaces.</p>
<p>So, sourcing your main ROS 2 installationâs setup and then the ros2_ws overlayâs local_setup, like you just did, is the same as just sourcing ros2_wsâs setup, because that includes the environment of its underlay.</p>
<hr>
<p>Now you can run the package from the overlay:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run &lt;package&gt; &lt;node&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7-customization-of-packagexml-and-cmakeliststxt">7. Customization of package.xml and CMakeLists.txt<a href="#7-customization-of-packagexml-and-cmakeliststxt" class="hash-link" aria-label="Direct link to 7. Customization of package.xml and CMakeLists.txt" title="Direct link to 7. Customization of package.xml and CMakeLists.txt">â</a></h3>
<p><strong>TODO</strong></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/VaranusTimorensis/WikiDrones/docs/bases_ROS2/structure_de_base.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/WikiDrones/docs/bases_ROS2/ros2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DÃ©couverte de ROS2</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/WikiDrones/docs/bases_ROS2/nodes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Nodes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quest-ce-quun-workspace-" class="table-of-contents__link toc-highlight">Qu&#39;est-ce qu&#39;un workspace ?</a></li><li><a href="#quest-ce-quun-package-ros-2-" class="table-of-contents__link toc-highlight">Qu&#39;est-ce qu&#39;un package ROS 2 ?</a></li><li><a href="#exemple--crÃ©er-un-workspace-avec-un-package" class="table-of-contents__link toc-highlight">Exemple : crÃ©er un workspace avec un package</a><ul><li><a href="#1-sourcer-lenvironnement-ros-2" class="table-of-contents__link toc-highlight">1. Sourcer l&#39;environnement ROS 2</a></li><li><a href="#2-crÃ©er-un-nouveau-dossier" class="table-of-contents__link toc-highlight">2. CrÃ©er un nouveau dossier</a></li><li><a href="#3-create-a-package" class="table-of-contents__link toc-highlight">3. Create a package</a></li><li><a href="#4-build-a-package" class="table-of-contents__link toc-highlight">4. Build a package</a></li><li><a href="#5-construire-le-workspace-avec-colcon" class="table-of-contents__link toc-highlight">5. Construire le workspace avec colconï</a></li><li><a href="#6-source-the-overlay" class="table-of-contents__link toc-highlight">6. Source the overlayï</a></li><li><a href="#7-customization-of-packagexml-and-cmakeliststxt" class="table-of-contents__link toc-highlight">7. Customization of package.xml and CMakeLists.txt</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/WikiDrones/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/WikiDrones/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/VaranusTimorensis/WikiDrones" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>