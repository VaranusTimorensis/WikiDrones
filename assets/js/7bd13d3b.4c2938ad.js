"use strict";(self.webpackChunkwikidrones=self.webpackChunkwikidrones||[]).push([[3967],{2700:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>u,frontMatter:()=>t,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"installation/Test de l\'installation compl\xe8te","title":"Test de l\'installation compl\xe8te","description":"Test de l\'installation compl\xe8te","source":"@site/docs/installation/Test de l\'installation compl\xe8te.md","sourceDirName":"installation","slug":"/installation/Test de l\'installation compl\xe8te","permalink":"/WikiDrones/docs/installation/Test de l\'installation compl\xe8te","draft":false,"unlisted":false,"editUrl":"https://github.com/VaranusTimorensis/WikiDrones/docs/installation/Test de l\'installation compl\xe8te.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"QGroundControl","permalink":"/WikiDrones/docs/installation/QGroundControl"},"next":{"title":"Bases de ROS2","permalink":"/WikiDrones/docs/category/bases-de-ros2"}}');var r=s(4848),o=s(8453);const t={sidebar_position:6},i=void 0,a={},c=[{value:"Test de l&#39;installation compl\xe8te",id:"test-de-linstallation-compl\xe8te",level:3},{value:"1) Cr\xe9er et builder le workspace ROS2",id:"1-cr\xe9er-et-builder-le-workspace-ros2",level:4},{value:"2) D\xe9marrer l&#39;agent Micro XRCE\u2011DDS (uORB \u2194 ROS2)",id:"2-d\xe9marrer-lagent-micro-xrcedds-uorb--ros2",level:4},{value:"3) Lancer QGroundControl",id:"3-lancer-qgroundcontrol",level:4},{value:"4) Lancer PX4 SITL avec Gazebo X500",id:"4-lancer-px4-sitl-avec-gazebo-x500",level:4},{value:"5) Lancer le listener ROS2",id:"5-lancer-le-listener-ros2",level:4},{value:"6) Faire d\xe9coller le drone virtuel",id:"6-faire-d\xe9coller-le-drone-virtuel",level:4}];function d(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"test-de-linstallation-compl\xe8te",children:"Test de l'installation compl\xe8te"}),"\n",(0,r.jsx)(n.h4,{id:"1-cr\xe9er-et-builder-le-workspace-ros2",children:"1) Cr\xe9er et builder le workspace ROS2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/ws_sensor_combined/src && cd ~/ws_sensor_combined/src\ngit clone https://github.com/PX4/px4_msgs.git\ngit clone https://github.com/PX4/px4_ros_com.git\ncd ~/ws_sensor_combined\nsource /opt/ros/jazzy/setup.bash    # ou /opt/ros/foxy/setup.bash\nsudo chmod 755 -R urs/local/\npython -m pip install catkin_pkg lark\ncolcon build\n"})}),"\n",(0,r.jsx)(n.p,{children:"A ce stade, si le colcon \xe9choue, pensez \xe0 v\xe9rifier les deux points suivants :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["les droits d'acc\xe8s \xe0 /usr/local/. V\xe9rifiez les droits par ",(0,r.jsx)(n.code,{children:"ll"})," ou en essayant d'acc\xe9der au dossier /usr/local/.\nSi l'acc\xe8s est impossible, ex\xe9cutez les commandes suivantes :"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo chmod 755 -R urs/local/\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Biblioth\xe8que Python manquante (exemple : catkin_pkg et lark). Dans ce cas, il faut les installer dans l'environnement virtuel. Si ",(0,r.jsx)(n.code,{children:"pip"})," ne fonctionne pas, installez ",(0,r.jsx)(n.code,{children:"uv"})," (cf ",(0,r.jsx)(n.a,{href:"https://docs.astral.sh",children:"https://docs.astral.sh"}),") puis ex\xe9cutez ",(0,r.jsx)(n.code,{children:"uv pip install <pkg>"})," dans l'environnement virtuel."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"2-d\xe9marrer-lagent-micro-xrcedds-uorb--ros2",children:"2) D\xe9marrer l'agent Micro XRCE\u2011DDS (uORB \u2194 ROS2)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"MicroXRCEAgent udp4 -p 8888 &\n"})}),"\n",(0,r.jsx)(n.h4,{id:"3-lancer-qgroundcontrol",children:"3) Lancer QGroundControl"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ~/T\xe9l\xe9chargements\n./QGroundControl.AppImage\n"})}),"\n",(0,r.jsx)(n.h4,{id:"4-lancer-px4-sitl-avec-gazebo-x500",children:"4) Lancer PX4 SITL avec Gazebo X500"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ~/src/PX4-Autopilot\nmake px4_sitl gz_x500 &\n"})}),"\n",(0,r.jsx)(n.h4,{id:"5-lancer-le-listener-ros2",children:"5) Lancer le listener ROS2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ~/ws_sensor_combined\nsource /opt/ros/jazzy/setup.bash    # ou /opt/ros/foxy/setup.bash\nsource install/local_setup.bash\nros2 launch px4_ros_com sensor_combined_listener.launch.py\n"})}),"\n",(0,r.jsx)(n.h4,{id:"6-faire-d\xe9coller-le-drone-virtuel",children:"6) Faire d\xe9coller le drone virtuel"}),"\n",(0,r.jsx)(n.p,{children:"Dans l'invite de commande Nuttshel de px4_sitl lancer la commande suivante :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"commander takeoff\n"})}),"\n",(0,r.jsx)(n.p,{children:"Ou via QGroundControl : lancer takeoff depuis la barre d'outils."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>i});var l=s(6540);const r={},o=l.createContext(r);function t(e){const n=l.useContext(o);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),l.createElement(o.Provider,{value:n},e.children)}}}]);