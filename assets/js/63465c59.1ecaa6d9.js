"use strict";(self.webpackChunkwikidrones=self.webpackChunkwikidrones||[]).push([[3410],{4933:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"capteurs/Retour vid\xe9o","title":"Retour vid\xe9o","description":"Afficher et traiter un retour vid\xe9o","source":"@site/docs/capteurs/Retour vid\xe9o.md","sourceDirName":"capteurs","slug":"/capteurs/Retour vid\xe9o","permalink":"/WikiDrones/docs/capteurs/Retour vid\xe9o","draft":false,"unlisted":false,"editUrl":"https://github.com/VaranusTimorensis/WikiDrones/docs/capteurs/Retour vid\xe9o.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Interagir avec des capteurs","permalink":"/WikiDrones/docs/category/interagir-avec-des-capteurs"},"next":{"title":"Exemples","permalink":"/WikiDrones/docs/category/exemples"}}');var o=r(4848),a=r(8453);const t={sidebar_position:1},s=void 0,l={},d=[{value:"Afficher et traiter un retour vid\xe9o",id:"afficher-et-traiter-un-retour-vid\xe9o",level:3},{value:"Modifier l&#39;angle de la cam\xe9ra",id:"modifier-langle-de-la-cam\xe9ra",level:3}];function c(e){const n={code:"code",h3:"h3",li:"li",ol:"ol",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h3,{id:"afficher-et-traiter-un-retour-vid\xe9o",children:"Afficher et traiter un retour vid\xe9o"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"V\xe9rifier que le mod\xe8le dispose d'une cam\xe9ra\nExemple : x650_mono_cam_down (~/PX4-Autopilot/Tools/simulation/gz/models/x500_mono_cam_down/model.sdf)"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<sdf version=\'1.9\'>\n  <model name=\'x500_mono_cam_down\'>\n    <self_collide>false</self_collide>\n    <include merge=\'true\'>\n      <uri>x500</uri>\n    </include>\n    <include merge=\'true\'>\n      <uri>model://mono_cam</uri>\n      <pose>0 0 .10 0 1.5707 0</pose>\n      <name>mono_cam</name>\n    </include>\n    <joint name="CameraJoint" type="fixed">\n      <parent>base_link</parent>\n      <child>camera_link</child>\n      <pose relative_to="base_link">0 0 0 0 1.5707 0</pose>\n    </joint>\n  </model>\n</sdf>          \n'})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:["Noter le topic sur lequel Gazebo publie le flux vid\xe9o\nPendant la simulation, ex\xe9cutez dans un terminal la commande ",(0,o.jsx)(n.code,{children:"gz topic -l"}),".\nLe topic peut avoir un nom ressemblant \xe0 ",(0,o.jsx)(n.code,{children:'"/world/baylands/model/x500_mono_cam_down_1/link/camera_link/sensor/imager/image'})]}),"\n",(0,o.jsxs)(n.li,{children:["Bridge\nDans le fichier de lancement ",(0,o.jsx)(n.code,{children:"<nom>.launch.py"}),", ajouter le noeud suivant :"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'Node(\n    package="ros_gz_bridge",\n    executable="parameter_bridge",\n    name="camera_image_bridge",\n    arguments=[\n        "/world/baylands/model/x500_mono_cam_down_1/link/camera_link/sensor/imager/image@sensor_msgs/msg/Image@ignition.msgs.Image",\n    ],\n    remappings=[\n        (\n            "/world/baylands/model/x500_mono_cam_down_1/link/camera_link/sensor/imager/image",\n            "/px4_1/camera",\n        )\n    ],\n    output="screen",\n    ),\n'})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsxs)(n.li,{children:["(Eventuellement) renommer \xe0 l'aide de l'argument ",(0,o.jsx)(n.code,{children:"remapping"})," comme ci-dessus."]}),"\n",(0,o.jsxs)(n.li,{children:["Ecouter le topic. Ici, apr\xe8s remapping, il s'agit du topic ",(0,o.jsx)(n.code,{children:"/px4_1/camera"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"modifier-langle-de-la-cam\xe9ra",children:"Modifier l'angle de la cam\xe9ra"})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>s});var i=r(6540);const o={},a=i.createContext(o);function t(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);